import Sequelize from 'sequelize';
import db from '../config/db.js';

export const Publicacion = db.define('publicaciones', {
    ID: {
        type: Sequelize.INTEGER,
        primaryKey: true,
        autoIncrement: true
    },
    Fecha: {
        type: Sequelize.DATE
    },
    Titulo: {
        type: Sequelize.STRING
    },
    Categoria: {
        type: Sequelize.STRING
    },
    Imagen: {
        type: Sequelize.STRING
    },
    Texto: {
        type: Sequelize.TEXT
    },
    autorId: {
        type: Sequelize.INTEGER // Clave for치nea para establecer la relaci칩n
    }
});

Publicacion.belongsTo(Autor, {
    foreignKey: 'autorId' // Indicar la relaci칩n con la tabla Autor
});

Publicacion.hasMany(Comentario, { foreignKey: 'publicacionId' }); // Relaci칩n con Comentario
